var TimeHelper=function(){"use strict";return{getIntervalTime:function(e,t,a){var s=new Date(t),r=new Date(e),i=Math.floor((s-r)/1e3),n=Math.floor(i/60),o=Math.floor(n/60),l=Math.floor(o/24);return o-=24*l,n=n-24*l*60-60*o,i=i-24*l*60*60-60*o*60-60*n,a&&(10>o&&(o="0"+o),10>n&&(n="0"+n),10>i&&(i="0"+i)),{hours:o,minutes:n,seconds:i}}}}(),Tasks=function(){function e(){this.dbName="tasks"}var t=function(e){return e?JSON.parse(localStorage.getItem(this.dbName)):localStorage.getItem(this.dbName)};return e.prototype={getTasks:function(){return t.call(this,!0)},saveTask:function(e){var a=t.call(this,!0)||[];a.push({title:e.title,description:e.description,time:e.time}),localStorage.setItem(this.dbName,JSON.stringify(a))}},new e}(),TaskView=function(){function e(){this.source=$("#task-template").html(),this.template=Handlebars.compile(this.source)}return e.prototype={render:function(){var e=this,t=Tasks.getTasks(),a="";for(var s in t){var r={title:t[s].title,description:t[s].description,timer:TimeHelper.getIntervalTime(t[s].time,Date.now(),!0)};a+=e.template(r)}$(".tasks").html(a),$(".action").on("click",function(e){e.preventDefault();var t=$(this);t.hasClass("play")?(t.removeClass("play").addClass("pause"),$(".fa",t).removeClass("fa-play").addClass("fa-pause")):(t.removeClass("pause").addClass("play"),$(".fa",t).removeClass("fa-pause").addClass("fa-play"))})}},new e}();$(document).ready(function(){TaskView.render()});